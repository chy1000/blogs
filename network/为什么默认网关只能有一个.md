# 为什么默认网关只能有一个

记得以前对网络知识还很小白的时候，把一台机器的公网和内网网卡都配置了网关，却发现上不了网。问了网管，网管说一台机器不能配置两个网关。现在回过头再来看这个问题，为什么默认网关只能有一个？

网关：可以在 IP 路由表中创建一个默认路径。一台主机可以有多个网关。在系统设置好默认网关，系统自动会帮你创建默认的路由。如下所示：

```shell
ip route show | column -t
default         via  192.168.7.1  dev    ens32
```

一台主机可以有多个网关，但不能有多个系统设置的默认网关。因为设置多个网关，系统会帮你创建多条默认的路由记录。
会造成默认的路由记录冲突。

如果有多个网关，可以通过命令进行创建。

实验：
在 centos 系统删除网关的设置，重启网络，ip route show 查看默认路由已经删除。手动添加默认路由：

```shell
ip route add 0.0.0.0/0.0.0.0 via 192.168.7.1 
systemctl restart network
```

ping 8.8.8.8 可以看到已经能连通外网了

说明了默认网关的作用。
